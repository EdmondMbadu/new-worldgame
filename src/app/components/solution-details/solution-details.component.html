<div class="dark:bg-slate-900 bg-gray-50 min-h-screen flex flex-col">
  <!-- Navbar -->
  <app-navbar
    [sideBarSmall]="true"
    [sideBarBig]="false"
    [email]="this.auth.currentUser.email"
    [firstName]="this.auth.currentUser.firstName"
    [lastName]="this.auth.currentUser.lastName"
    path="home"
    current=""
  ></app-navbar>

  <!-- Icon Templates -->
  <ng-template #iconPlus>
    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"
         stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
      <path d="M12 5v14M5 12h14" />
    </svg>
  </ng-template>

  <ng-template #iconMinus>
    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"
         stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
      <path d="M5 12h14" />
    </svg>
  </ng-template>

  <ng-template #iconEdit>
    <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125" />
    </svg>
  </ng-template>

  <!-- Main Content -->
  <main class="flex-1 pt-20 pb-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">

      <!-- Header Section -->
      <header class="text-center mb-8">
        <!-- Page Title -->
        <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-teal-100 dark:bg-teal-900/40 text-teal-700 dark:text-teal-300 text-sm font-medium mb-4">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
          </svg>
          Solution Details
        </div>

        <!-- Solution Title -->
        <div class="flex items-center justify-center gap-3 flex-wrap">
          <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white">
            {{ currentSolution.title }}
          </h1>
          <button *ngIf="isAdminOfSolution"
                  (click)="toggle('updateTitleBox')"
                  class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors text-gray-500 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400"
                  title="Edit title">
            <ng-container *ngTemplateOutlet="iconEdit"></ng-container>
          </button>
        </div>

        <!-- Solution ID Badge -->
        <div *ngIf="currentSolution?.solutionId as sid" class="mt-4">
          <div class="inline-flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-gray-200 dark:border-slate-700">
            <span class="text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 hidden sm:inline">
              ID
            </span>
            <code class="text-sm font-mono text-gray-800 dark:text-gray-200 truncate max-w-[150px] sm:max-w-none" [title]="sid">
              {{ sid }}
            </code>
            <button type="button"
                    (click)="copySolutionId(sid)"
                    class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all
                           bg-teal-600 text-white hover:bg-teal-500 active:scale-95
                           focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-2 dark:focus:ring-offset-slate-800">
              <svg *ngIf="!copied" class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <rect x="9" y="9" width="13" height="13" rx="2"></rect>
                <path d="M5 15V5a2 2 0 0 1 2-2h10"></path>
              </svg>
              <svg *ngIf="copied" class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              {{ copied ? 'Copied!' : 'Copy' }}
            </button>
          </div>
        </div>
      </header>

      <!-- Main Grid Layout -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

        <!-- Left Column: ReadMe (spans 2 cols on large screens) -->
        <div class="lg:col-span-2">
          <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-visible">
            <!-- Card Header -->
            <div class="px-5 sm:px-6 py-4 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="p-2 rounded-lg bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                  </svg>
                </div>
                <h2 class="text-lg font-semibold text-gray-900 dark:text-white">ReadMe</h2>
              </div>
              <button *ngIf="isAdminOfSolution"
                      (click)="toggle('updateReadMeBox')"
                      class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"
                      title="Edit ReadMe">
                <ng-container *ngTemplateOutlet="iconEdit"></ng-container>
              </button>
            </div>
            <!-- Card Body -->
            <div class="px-5 sm:px-6 py-5">
              <p class="text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap">
                {{ currentSolution.description || 'No description provided yet.' }}
              </p>
            </div>
          </div>
        </div>

        <!-- Right Column: Team Info -->
        <div class="space-y-6">

          <!-- Designers Card -->
          <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-visible">
            <div class="px-5 py-4 border-b border-gray-100 dark:border-slate-700">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="p-2 rounded-lg bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900 dark:text-white">Designers</h3>
                    <span class="text-sm text-gray-500 dark:text-gray-400">{{ teamMembers.length }} member{{ teamMembers.length !== 1 ? 's' : '' }}</span>
                  </div>
                </div>
                <!-- Admin Actions -->
                <div *ngIf="isAdminOfSolution" class="flex gap-1">
                  <button (click)="toggle('showAddTeamMember')"
                          class="p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 text-gray-500 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400 transition-colors"
                          title="Add Designer">
                    <ng-container *ngTemplateOutlet="iconPlus"></ng-container>
                  </button>
                  <button (click)="openInviteModal('designer')"
                          class="p-1.5 rounded-lg hover:bg-teal-100 dark:hover:bg-teal-900/40 text-gray-500 hover:text-teal-600 dark:text-gray-400 dark:hover:text-teal-400 transition-colors"
                          title="Invite Designer">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M22 12l-9 3-3 9-3-9-9-3 9-3 3-9 3 9 9 3z" />
                    </svg>
                  </button>
                  <button (click)="toggle('showRemoveTeamMember')"
                          class="p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors"
                          title="Remove Designer">
                    <ng-container *ngTemplateOutlet="iconMinus"></ng-container>
                  </button>
                </div>
              </div>
            </div>
            <div class="px-5 py-4">
              <div class="flex flex-wrap gap-2">
                <div *ngFor="let user of teamMembers; let i = index" class="relative group">
                  <!-- Avatar -->
                  <div class="relative cursor-pointer"
                       (mouseenter)="onHoverImageTeam(i)"
                       (mouseleave)="onLeaveTeam(i)"
                       [routerLink]="user.uid === auth.currentUser.uid ? '/profile' : '/user-profile/' + user.uid">
                    <img *ngIf="user.profilePicture?.downloadURL"
                         [src]="user.profilePicture!.downloadURL"
                         class="w-12 h-12 rounded-full border-2 border-white dark:border-slate-700 shadow-sm object-cover hover:ring-2 hover:ring-purple-400 transition-all"
                         alt="{{ user.firstName }}">
                    <div *ngIf="!user.profilePicture?.downloadURL"
                         class="w-12 h-12 rounded-full bg-gray-200 dark:bg-slate-600 flex items-center justify-center border-2 border-white dark:border-slate-700 shadow-sm hover:ring-2 hover:ring-purple-400 transition-all">
                      <span class="text-sm font-semibold text-gray-600 dark:text-gray-100">
                        {{ getInitials(user.firstName, user.lastName, user.email) }}
                      </span>
                    </div>
                  </div>
                  <!-- Hover Popup -->
                  <div *ngIf="showPopUpTeam[i]"
                       class="absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-gray-200 dark:border-slate-700 p-4 animate-in fade-in duration-200">
                    <div class="flex items-center gap-3 mb-3">
                      <img *ngIf="user.profilePicture?.downloadURL"
                           [src]="user.profilePicture!.downloadURL"
                           class="w-10 h-10 rounded-full object-cover"
                           alt="">
                      <div *ngIf="!user.profilePicture?.downloadURL"
                           class="w-10 h-10 rounded-full bg-gray-200 dark:bg-slate-600 flex items-center justify-center">
                        <span class="text-xs font-semibold text-gray-600 dark:text-gray-100">
                          {{ getInitials(user.firstName, user.lastName, user.email) }}
                        </span>
                      </div>
                      <div class="flex-1 min-w-0">
                        <p class="font-semibold text-gray-900 dark:text-white truncate">{{ user.firstName }} {{ user.lastName }}</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400 truncate">{{ user.email }}</p>
                      </div>
                    </div>
                    <p *ngIf="user.profileCredential" class="text-sm text-gray-600 dark:text-gray-300 mb-3">{{ user.profileCredential }}</p>
                    <div class="flex gap-4 text-sm">
                      <span><strong class="text-gray-900 dark:text-white">{{ user.following || 0 }}</strong> <span class="text-gray-500 dark:text-gray-400">Following</span></span>
                      <span><strong class="text-gray-900 dark:text-white">{{ user.followers || 0 }}</strong> <span class="text-gray-500 dark:text-gray-400">Followers</span></span>
                    </div>
                    <!-- Arrow -->
                    <div class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-slate-800 border-r border-b border-gray-200 dark:border-slate-700 rotate-45"></div>
                  </div>
                </div>
              </div>
              <p *ngIf="teamMembers.length === 0" class="text-sm text-gray-500 dark:text-gray-400 italic">No designers yet</p>
            </div>
          </div>

          <!-- Evaluators Card -->
          <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-visible">
            <div class="px-5 py-4 border-b border-gray-100 dark:border-slate-700">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="p-2 rounded-lg bg-amber-100 dark:bg-amber-900/40 text-amber-600 dark:text-amber-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900 dark:text-white">Evaluators</h3>
                    <span class="text-sm text-gray-500 dark:text-gray-400">{{ evaluators.length }} member{{ evaluators.length !== 1 ? 's' : '' }}</span>
                  </div>
                </div>
                <!-- Admin Actions -->
                <div *ngIf="isAdminOfSolution" class="flex gap-1">
                  <button (click)="toggle('showAddEvaluator')"
                          class="p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 text-gray-500 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400 transition-colors"
                          title="Add Evaluator">
                    <ng-container *ngTemplateOutlet="iconPlus"></ng-container>
                  </button>
                  <button (click)="openInviteModal('evaluator')"
                          class="p-1.5 rounded-lg hover:bg-teal-100 dark:hover:bg-teal-900/40 text-gray-500 hover:text-teal-600 dark:text-gray-400 dark:hover:text-teal-400 transition-colors"
                          title="Invite Evaluator">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M22 12l-9 3-3 9-3-9-9-3 9-3 3-9 3 9 9 3z" />
                    </svg>
                  </button>
                  <button (click)="toggle('showRemoveEvaluator')"
                          class="p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors"
                          title="Remove Evaluator">
                    <ng-container *ngTemplateOutlet="iconMinus"></ng-container>
                  </button>
                </div>
              </div>
            </div>
            <div class="px-5 py-4">
              <div class="flex flex-wrap gap-2">
                <div *ngFor="let user of evaluators; let i = index" class="relative group">
                  <!-- Avatar -->
                  <div class="relative cursor-pointer"
                       (mouseenter)="onHoverImageEvaluators(i)"
                       (mouseleave)="onLeaveEvaluatros(i)"
                       [routerLink]="'/user-profile/' + user.uid">
                    <img *ngIf="user.profilePicture?.downloadURL"
                         [src]="user.profilePicture!.downloadURL"
                         class="w-12 h-12 rounded-full border-2 border-white dark:border-slate-700 shadow-sm object-cover hover:ring-2 hover:ring-amber-400 transition-all"
                         alt="{{ user.firstName }}">
                    <div *ngIf="!user.profilePicture?.downloadURL"
                         class="w-12 h-12 rounded-full bg-gray-200 dark:bg-slate-600 flex items-center justify-center border-2 border-white dark:border-slate-700 shadow-sm hover:ring-2 hover:ring-amber-400 transition-all">
                      <span class="text-sm font-semibold text-gray-600 dark:text-gray-100">
                        {{ getInitials(user.firstName, user.lastName, user.email) }}
                      </span>
                    </div>
                  </div>
                  <!-- Hover Popup -->
                  <div *ngIf="showPopUpEvaluators[i]"
                       class="absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-gray-200 dark:border-slate-700 p-4 animate-in fade-in duration-200">
                    <div class="flex items-center gap-3 mb-3">
                      <img *ngIf="user.profilePicture?.downloadURL"
                           [src]="user.profilePicture!.downloadURL"
                           class="w-10 h-10 rounded-full object-cover"
                           alt="">
                      <div *ngIf="!user.profilePicture?.downloadURL"
                           class="w-10 h-10 rounded-full bg-gray-200 dark:bg-slate-600 flex items-center justify-center">
                        <span class="text-xs font-semibold text-gray-600 dark:text-gray-100">
                          {{ getInitials(user.firstName, user.lastName, user.email) }}
                        </span>
                      </div>
                      <div class="flex-1 min-w-0">
                        <p class="font-semibold text-gray-900 dark:text-white truncate">{{ user.firstName }} {{ user.lastName }}</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400 truncate">{{ user.email }}</p>
                      </div>
                    </div>
                    <p *ngIf="user.profileCredential" class="text-sm text-gray-600 dark:text-gray-300 mb-3">{{ user.profileCredential }}</p>
                    <div class="flex gap-4 text-sm">
                      <span><strong class="text-gray-900 dark:text-white">{{ user.following || 0 }}</strong> <span class="text-gray-500 dark:text-gray-400">Following</span></span>
                      <span><strong class="text-gray-900 dark:text-white">{{ user.followers || 0 }}</strong> <span class="text-gray-500 dark:text-gray-400">Followers</span></span>
                    </div>
                    <!-- Arrow -->
                    <div class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-slate-800 border-r border-b border-gray-200 dark:border-slate-700 rotate-45"></div>
                  </div>
                </div>
              </div>
              <p *ngIf="evaluators.length === 0" class="text-sm text-gray-500 dark:text-gray-400 italic">No evaluators yet</p>
            </div>
          </div>

          <!-- Admins Card (only visible to admins) -->
          <div *ngIf="isAdminOfSolution" class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-visible">
            <div class="px-5 py-4 border-b border-gray-100 dark:border-slate-700">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="p-2 rounded-lg bg-rose-100 dark:bg-rose-900/40 text-rose-600 dark:text-rose-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900 dark:text-white">Admins</h3>
                    <span class="text-sm text-gray-500 dark:text-gray-400">{{ admins.length }} admin{{ admins.length !== 1 ? 's' : '' }}</span>
                  </div>
                </div>
                <!-- Admin Actions -->
                <div class="flex gap-1">
                  <button (click)="toggle('showAddAdmin')"
                          class="p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 text-gray-500 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400 transition-colors"
                          title="Add Admin">
                    <ng-container *ngTemplateOutlet="iconPlus"></ng-container>
                  </button>
                  <button (click)="openInviteModal('admin')"
                          class="p-1.5 rounded-lg hover:bg-teal-100 dark:hover:bg-teal-900/40 text-gray-500 hover:text-teal-600 dark:text-gray-400 dark:hover:text-teal-400 transition-colors"
                          title="Invite Admin">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M22 12l-9 3-3 9-3-9-9-3 9-3 3-9 3 9 9 3z" />
                    </svg>
                  </button>
                  <button (click)="toggle('showRemoveAdmin')"
                          class="p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors"
                          title="Remove Admin">
                    <ng-container *ngTemplateOutlet="iconMinus"></ng-container>
                  </button>
                </div>
              </div>
            </div>
            <div class="px-5 py-4">
              <div class="flex flex-wrap gap-2">
                <div *ngFor="let admin of admins" class="relative">
                  <img *ngIf="admin.authorProfilePicture?.downloadURL"
                       [src]="admin.authorProfilePicture?.downloadURL"
                       [title]="admin.authorName"
                       class="w-12 h-12 rounded-full border-2 border-white dark:border-slate-700 shadow-sm object-cover">
                  <div *ngIf="!admin.authorProfilePicture?.downloadURL"
                       [title]="admin.authorName"
                       class="w-12 h-12 rounded-full bg-gray-200 dark:bg-slate-600 flex items-center justify-center border-2 border-white dark:border-slate-700 shadow-sm">
                    <span class="text-sm font-semibold text-gray-600 dark:text-gray-100">
                      {{ getInitials(undefined, undefined, admin.authorEmail, admin.authorName) }}
                    </span>
                  </div>
                </div>
              </div>
              <p *ngIf="admins.length === 0" class="text-sm text-gray-500 dark:text-gray-400 italic">No admins configured</p>
            </div>
          </div>
        </div>
      </div>

      <!-- SDGs Section (Full Width) -->
      <div class="mt-6 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden">
        <div class="px-5 sm:px-6 py-4 border-b border-gray-100 dark:border-slate-700">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="p-2 rounded-lg bg-green-100 dark:bg-green-900/40 text-green-600 dark:text-green-400">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418" />
                </svg>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Sustainable Development Goals</h2>
                <span class="text-sm text-gray-500 dark:text-gray-400">{{ currentSolution.sdgs?.length || 0 }} SDG{{ (currentSolution.sdgs?.length || 0) !== 1 ? 's' : '' }} selected</span>
              </div>
            </div>
            <!-- Admin Actions -->
            <div *ngIf="isAdminOfSolution" class="flex gap-1">
              <button (click)="toggle('showAddSdg')"
                      class="p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 text-gray-500 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400 transition-colors"
                      title="Add SDG">
                <ng-container *ngTemplateOutlet="iconPlus"></ng-container>
              </button>
              <button (click)="toggle('showRemoveSdg')"
                      class="p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors"
                      title="Remove SDG">
                <ng-container *ngTemplateOutlet="iconMinus"></ng-container>
              </button>
            </div>
          </div>
        </div>
        <div class="px-5 sm:px-6 py-5">
          <div *ngIf="currentSolution.sdgs?.length" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-3 sm:gap-4">
            <a *ngFor="let sd of currentSolution.sdgs"
               [href]="data.sdgsPaths[sd + '-link']"
               target="_blank"
               class="group relative aspect-square rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all hover:scale-105">
              <img [src]="data.sdgsPaths[sd]"
                   alt="SDG"
                   class="w-full h-full object-cover">
            </a>
          </div>
          <p *ngIf="!currentSolution.sdgs?.length" class="text-sm text-gray-500 dark:text-gray-400 italic text-center py-4">
            No SDGs selected yet
          </p>
        </div>
      </div>
    </div>
  </main>
</div>


<!-- ============================================= -->
<!-- MODALS -->
<!-- ============================================= -->

<!-- Modal Backdrop Template -->
<ng-template #modalBackdrop>
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-40"></div>
</ng-template>

<!-- Invite People Modal -->
<div *ngIf="showInviteModal" class="fixed inset-0 z-[9999] flex items-center justify-center p-4">
  <div
    class="absolute inset-0 bg-black/60 backdrop-blur-md"
    (click)="closeInviteModal()"
  ></div>

  <div
    class="relative w-full max-w-3xl max-h-[95vh] min-h-[70vh] rounded-3xl bg-white dark:bg-slate-900 shadow-2xl ring-1 ring-black/10 dark:ring-white/10 overflow-hidden transform transition-all flex flex-col"
  >
    <button
      (click)="closeInviteModal()"
      class="absolute top-5 right-5 p-2.5 rounded-full text-slate-500 hover:text-slate-800 dark:text-slate-300 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-all z-10 shadow-sm hover:shadow-md"
      aria-label="Close"
    >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
      >
        <path d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

    <div class="p-8 overflow-y-auto flex-1 min-h-0">
      <div class="mb-8">
        <h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white mb-3">
          Invite {{ inviteRolePlural }}
        </h2>
        <p class="text-base text-slate-600 dark:text-slate-400 leading-relaxed">
          Add {{ inviteRolePlural }} to your solution. Select from the list or type an email, then click "Add to List" to build a group, or "Add {{ inviteRoleSingular }}" to add immediately.
        </p>
        <p *ngIf="inviteRole === 'admin'" class="mt-2 text-sm text-amber-600 dark:text-amber-400">
          Admins must be registered users.
        </p>
      </div>

      <div class="relative mb-6">
        <label
          for="inviteInput"
          class="block mb-3 text-sm font-semibold text-gray-900 dark:text-white"
        >
          Email or Name
        </label>
        <div class="relative">
          <input
            id="inviteInput"
            type="text"
            [(ngModel)]="inviteInput"
            (input)="onInviteInputChange()"
            (focus)="onInviteInputChange()"
            (blur)="hideUserSuggestions()"
            class="block w-full px-4 py-4 text-base text-gray-900 bg-gray-50 dark:bg-slate-800 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 transition-all shadow-sm focus:shadow-md"
            placeholder="Type email@gmail.com or name to search..."
          />
          <div class="absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none">
            <svg *ngIf="!isSearchingUsers" class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <svg *ngIf="isSearchingUsers" class="w-5 h-5 text-blue-500 animate-spin" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </div>
        </div>

        <div
          *ngIf="showUserSuggestions && filteredUsers.length > 0"
          class="relative z-20 w-full mt-2 bg-white dark:bg-slate-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl max-h-[60vh] overflow-y-auto"
        >
          <div
            *ngFor="let user of filteredUsers"
            (mousedown)="selectUser(user); $event.preventDefault()"
            class="px-5 py-4 hover:bg-blue-50 dark:hover:bg-slate-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-all duration-150 active:bg-blue-100 dark:active:bg-slate-600"
          >
            <div class="flex items-center gap-4">
              <div
                *ngIf="user.profilePicture?.downloadURL"
                class="w-12 h-12 rounded-full overflow-hidden flex-shrink-0 ring-2 ring-gray-200 dark:ring-gray-600"
              >
                <img
                  [src]="user.profilePicture?.downloadURL"
                  [alt]="user.firstName + ' ' + user.lastName"
                  class="w-full h-full object-cover"
                />
              </div>
              <div
                *ngIf="!user.profilePicture?.downloadURL"
                class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center flex-shrink-0 ring-2 ring-gray-200 dark:ring-gray-600"
              >
                <span class="text-sm font-semibold text-blue-700 dark:text-blue-200">
                  {{ getInitials(user.firstName, user.lastName, user.email) }}
                </span>
              </div>
              <div class="flex-1 min-w-0">
                <p class="text-base font-semibold text-gray-900 dark:text-white truncate mb-1">
                  {{ user.firstName }} {{ user.lastName }}
                </p>
                <p class="text-sm text-gray-600 dark:text-gray-400 truncate">
                  {{ user.email }}
                </p>
              </div>
              <div class="flex-shrink-0">
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="invitedParticipants.length > 0" class="mt-6 mb-6">
        <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
          Recently Invited ({{ invitedParticipants.length }})
        </h3>
        <div class="space-y-2 max-h-48 overflow-y-auto pr-2">
          <div
            *ngFor="let participant of invitedParticipants"
            [class]="participant.status === 'success' 
              ? 'p-3 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700/50' 
              : 'p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50'"
          >
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1 min-w-0">
                <div [class]="participant.status === 'success' 
                  ? 'w-8 h-8 rounded-full bg-emerald-200 dark:bg-emerald-700 flex items-center justify-center flex-shrink-0' 
                  : 'w-8 h-8 rounded-full bg-red-200 dark:bg-red-700 flex items-center justify-center flex-shrink-0'">
                  <svg *ngIf="participant.status === 'success'" class="w-5 h-5 text-emerald-700 dark:text-emerald-300" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                  <svg *ngIf="participant.status === 'error'" class="w-5 h-5 text-red-700 dark:text-red-300" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                  </svg>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm font-medium text-gray-900 dark:text-white truncate">
                    {{ participant.name || participant.email }}
                  </p>
                  <p class="text-xs text-gray-600 dark:text-gray-400 truncate">
                    {{ participant.email }}
                  </p>
                </div>
              </div>
              <div class="ml-2">
                <span [class]="participant.status === 'success' 
                  ? 'text-xs font-semibold text-emerald-700 dark:text-emerald-300' 
                  : 'text-xs font-semibold text-red-700 dark:text-red-300'">
                  {{ participant.status === 'success' ? 'Added' : 'Failed' }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="pendingParticipants.length > 0" class="mt-6 mb-6">
        <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
          </svg>
          Pending Invites ({{ pendingParticipants.length }})
        </h3>
        <div class="space-y-2 max-h-64 overflow-y-auto pr-2">
          <div
            *ngFor="let pending of pendingParticipants"
            class="p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-700/50 shadow-sm hover:shadow-md transition-all"
          >
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1 min-w-0">
                <div class="w-10 h-10 rounded-full bg-blue-200 dark:bg-blue-700 flex items-center justify-center flex-shrink-0">
                  <span class="text-sm font-semibold text-blue-700 dark:text-blue-200">
                    {{ getInitials(pending.user?.firstName, pending.user?.lastName, pending.email) }}
                  </span>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-sm font-semibold text-gray-900 dark:text-white truncate">
                    {{ pending.name }}
                  </p>
                  <p class="text-xs text-gray-600 dark:text-gray-400 truncate">
                    {{ pending.email }}
                  </p>
                </div>
              </div>
              <button
                (click)="removePendingParticipant(pending.email)"
                class="ml-3 p-1.5 rounded-lg text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all"
                aria-label="Remove"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        *ngIf="inviteInput && canAddInvitee && !isAddingParticipant && pendingParticipants.length === 0"
        class="mt-6 p-5 rounded-xl bg-gradient-to-br from-emerald-50 to-blue-50 dark:from-emerald-900/30 dark:to-blue-900/20 border-2 border-emerald-200 dark:border-emerald-700/50 shadow-md"
      >
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0">
            <div *ngIf="selectedUser">
              <div
                *ngIf="selectedUser.profilePicture?.downloadURL"
                class="w-14 h-14 rounded-full overflow-hidden border-4 border-emerald-300 dark:border-emerald-600 shadow-md"
              >
                <img
                  [src]="selectedUser.profilePicture?.downloadURL"
                  [alt]="selectedUser.firstName + ' ' + selectedUser.lastName"
                  class="w-full h-full object-cover"
                />
              </div>
              <div
                *ngIf="!selectedUser.profilePicture?.downloadURL"
                class="w-14 h-14 rounded-full bg-gradient-to-br from-emerald-200 to-blue-200 dark:from-emerald-700 dark:to-blue-700 border-4 border-emerald-300 dark:border-emerald-600 flex items-center justify-center shadow-md"
              >
                <span class="text-lg font-semibold text-emerald-700 dark:text-emerald-200">
                  {{ getInitials(selectedUser.firstName, selectedUser.lastName, selectedUser.email) }}
                </span>
              </div>
            </div>
            <div *ngIf="!selectedUser && data.isValidEmail(inviteInput)">
              <div
                class="w-14 h-14 rounded-full bg-gradient-to-br from-emerald-200 to-blue-200 dark:from-emerald-700 dark:to-blue-700 border-4 border-emerald-300 dark:border-emerald-600 flex items-center justify-center shadow-md"
              >
                <svg
                  class="w-8 h-8 text-emerald-700 dark:text-emerald-200"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
                  />
                </svg>
              </div>
            </div>
          </div>

          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-2">
              <svg class="w-4 h-4 text-emerald-600 dark:text-emerald-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
              </svg>
              <p class="text-sm font-bold text-emerald-900 dark:text-emerald-200 uppercase tracking-wide">
                Ready to Add
              </p>
            </div>
            <div *ngIf="selectedUser" class="space-y-1">
              <p class="text-base font-semibold text-gray-900 dark:text-white">
                {{ selectedUser.firstName }} {{ selectedUser.lastName }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-300">
                {{ selectedUser.email }}
              </p>
            </div>
            <div *ngIf="!selectedUser && data.isValidEmail(inviteInput)">
              <p class="text-base font-semibold text-gray-900 dark:text-white">
                {{ inviteInput }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                (Not registered in system)
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="px-8 py-6 flex items-center justify-between gap-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-900 flex-shrink-0">
      <div class="flex items-center gap-3">
        <button
          (click)="closeInviteModal()"
          class="px-6 py-3 text-base font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-800 rounded-xl border-2 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:focus:ring-gray-600 transition-all shadow-sm hover:shadow-md"
        >
          {{ invitedParticipants.length > 0 || pendingParticipants.length > 0 ? 'Done' : 'Cancel' }}
        </button>
      </div>

      <div class="flex items-center gap-3">
        <button
          *ngIf="canAddInvitee"
          (click)="addEmailToPending()"
          [disabled]="isAddingParticipant"
          class="px-5 py-3 text-sm font-semibold text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-300 dark:border-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 transition-all shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Add to List
        </button>

        <button
          *ngIf="pendingParticipants.length > 0"
          (click)="addAllPendingInvitees()"
          [disabled]="isAddingParticipant"
          class="px-6 py-3 text-base font-semibold text-white rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 focus:ring-4 focus:outline-none focus:ring-emerald-300 dark:focus:ring-emerald-800 transition-all shadow-md hover:shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-md"
        >
          <span *ngIf="!isAddingParticipant" class="flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Add All ({{ pendingParticipants.length }})
          </span>
          <span *ngIf="isAddingParticipant" class="flex items-center gap-2">
            <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Adding...
          </span>
        </button>

        <button
          *ngIf="pendingParticipants.length === 0 && canAddInvitee"
          (click)="addInviteeNow()"
          [disabled]="isAddingParticipant"
          class="px-6 py-3 text-base font-semibold text-white rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 transition-all shadow-md hover:shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-md"
        >
          <span *ngIf="!isAddingParticipant">Add {{ inviteRoleSingular }}</span>
          <span *ngIf="isAddingParticipant" class="flex items-center gap-2">
            <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Adding...
          </span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Update Title Modal -->
<div *ngIf="updateTitleBox" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('updateTitleBox')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Update Title</h3>
      <button (click)="toggle('updateTitleBox')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="newTitle" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">New Title</label>
      <textarea [(ngModel)]="newTitle"
                id="newTitle"
                rows="3"
                placeholder="Enter your updated title here"
                class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all resize-none"></textarea>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('updateTitleBox')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="updateTitile()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-teal-600 hover:bg-teal-500 transition-colors">
        Update Title
      </button>
    </div>
  </div>
</div>

<!-- Update ReadMe Modal -->
<div *ngIf="updateReadMeBox" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('updateReadMeBox')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Update ReadMe</h3>
      <button (click)="toggle('updateReadMeBox')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="readmeContent" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Description</label>
      <textarea [(ngModel)]="newReadMe"
                id="readmeContent"
                rows="8"
                placeholder="Enter your updated description here"
                class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"></textarea>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('updateReadMeBox')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="updateReadMe()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-blue-600 hover:bg-blue-500 transition-colors">
        Update ReadMe
      </button>
    </div>
  </div>
</div>

<!-- Add Team Member Modal -->
<div *ngIf="showAddTeamMember" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showAddTeamMember')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Add Designer</h3>
      <button (click)="toggle('showAddTeamMember')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="newMemberEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
      <input [(ngModel)]="newTeamMember"
             type="email"
             id="newMemberEmail"
             placeholder="designer@example.com"
             class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all">
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Enter the email of the person you want to add as a designer.</p>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showAddTeamMember')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="addParticipantToSolution()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-purple-600 hover:bg-purple-500 transition-colors">
        Add Designer
      </button>
    </div>
  </div>
</div>

<!-- Remove Team Member Modal -->
<div *ngIf="showRemoveTeamMember" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showRemoveTeamMember')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Remove Designer</h3>
      <button (click)="toggle('showRemoveTeamMember')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="removeMemberEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
      <input [(ngModel)]="teamMemberToDelete"
             type="email"
             id="removeMemberEmail"
             placeholder="designer@example.com"
             class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all">
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Enter the email of the designer you want to remove.</p>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showRemoveTeamMember')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="removeParticipantFromSolution(teamMemberToDelete)"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-red-600 hover:bg-red-500 transition-colors">
        Remove Designer
      </button>
    </div>
  </div>
</div>

<!-- Add Evaluator Modal -->
<div *ngIf="showAddEvaluator" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showAddEvaluator')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Add Evaluator</h3>
      <button (click)="toggle('showAddEvaluator')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="newEvaluatorEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
      <input [(ngModel)]="newEvaluator"
             type="email"
             id="newEvaluatorEmail"
             placeholder="evaluator@example.com"
             class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all">
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Enter the email of the person you want to add as an evaluator.</p>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showAddEvaluator')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="addEvaluatorToSolution()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-amber-600 hover:bg-amber-500 transition-colors">
        Add Evaluator
      </button>
    </div>
  </div>
</div>

<!-- Remove Evaluator Modal -->
<div *ngIf="showRemoveEvaluator" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showRemoveEvaluator')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Remove Evaluator</h3>
      <button (click)="toggle('showRemoveEvaluator')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="removeEvaluatorEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
      <input [(ngModel)]="evaluatorToDelete"
             type="email"
             id="removeEvaluatorEmail"
             placeholder="evaluator@example.com"
             class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all">
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Enter the email of the evaluator you want to remove.</p>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showRemoveEvaluator')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="removeEvaluatorFromSolution(evaluatorToDelete)"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-red-600 hover:bg-red-500 transition-colors">
        Remove Evaluator
      </button>
    </div>
  </div>
</div>

<!-- Add Admin Modal -->
<div *ngIf="showAddAdmin" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showAddAdmin')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Add Admin</h3>
      <button (click)="toggle('showAddAdmin')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="newAdminEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
      <input [(ngModel)]="newAdminEmail"
             type="email"
             id="newAdminEmail"
             placeholder="admin@example.com"
             class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all">
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Enter the email of the person you want to add as an admin.</p>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showAddAdmin')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="addAdminToSolution()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-rose-600 hover:bg-rose-500 transition-colors">
        Add Admin
      </button>
    </div>
  </div>
</div>

<!-- Remove Admin Modal -->
<div *ngIf="showRemoveAdmin" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showRemoveAdmin')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Remove Admin</h3>
      <button (click)="toggle('showRemoveAdmin')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="removeAdminEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
      <input [(ngModel)]="adminToDelete"
             type="email"
             id="removeAdminEmail"
             placeholder="admin@example.com"
             class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all">
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Enter the email of the admin you want to remove.</p>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showRemoveAdmin')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="removeAdminFromSolution(adminToDelete)"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-red-600 hover:bg-red-500 transition-colors">
        Remove Admin
      </button>
    </div>
  </div>
</div>

<!-- Add SDG Modal -->
<div *ngIf="showAddSdg" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showAddSdg')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Add SDG</h3>
      <button (click)="toggle('showAddSdg')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="sdgSelect" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Select SDG</label>
      <select [(ngModel)]="selectedSdgToAdd"
              id="sdgSelect"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
        <option value="" disabled selected>Choose a Sustainable Development Goal...</option>
        <option *ngFor="let sdg of availableSdgs" [ngValue]="sdg">{{ sdg }}</option>
      </select>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showAddSdg')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="addSdgToSolution()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-green-600 hover:bg-green-500 transition-colors">
        Add SDG
      </button>
    </div>
  </div>
</div>

<!-- Remove SDG Modal -->
<div *ngIf="showRemoveSdg" class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" (click)="toggle('showRemoveSdg')"></div>
  <div class="relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200">
    <!-- Modal Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Remove SDG</h3>
      <button (click)="toggle('showRemoveSdg')"
              class="p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-gray-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <!-- Modal Body -->
    <div class="px-6 py-5">
      <label for="sdgRemoveSelect" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Select SDG to Remove</label>
      <select [(ngModel)]="selectedSdgToRemove"
              id="sdgRemoveSelect"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all">
        <option value="" disabled selected>Choose an SDG to remove...</option>
        <option *ngFor="let sdg of currentSdgs" [ngValue]="sdg">{{ sdg }}</option>
      </select>
    </div>
    <!-- Modal Footer -->
    <div class="px-6 py-4 bg-gray-50 dark:bg-slate-700/50 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end">
      <button (click)="toggle('showRemoveSdg')"
              class="px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 transition-colors">
        Cancel
      </button>
      <button (click)="removeSdgFromSolution()"
              class="px-5 py-2.5 rounded-xl font-medium text-white bg-red-600 hover:bg-red-500 transition-colors">
        Remove SDG
      </button>
    </div>
  </div>
</div>
