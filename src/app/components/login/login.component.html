<div class="min-h-screen bg-gradient-to-br from-slate-50 via-indigo-50 to-cyan-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950">
  <app-navbar [currentPageSignIn]="true"></app-navbar>

  <!-- soft ambient shapes -->
  <div aria-hidden="true"
       class="pointer-events-none fixed -top-24 -left-32 hidden md:block h-72 w-72 rounded-full
              bg-gradient-to-tr from-teal-400 to-emerald-400 opacity-20 blur-3xl"></div>
  <div aria-hidden="true"
       class="pointer-events-none fixed -bottom-28 -right-28 hidden md:block h-[28rem] w-[28rem] rounded-full
              bg-gradient-to-tr from-emerald-500 to-cyan-400 opacity-20 blur-3xl"></div>

  <!-- Centered Content -->
  <div class="container mx-auto px-4">
    <div class="mx-auto max-w-md pt-28 pb-16">
      <form
        class="relative overflow-hidden rounded-2xl border border-slate-200/60 bg-white/80 shadow-xl
               backdrop-blur supports-[backdrop-filter]:bg-white/60
               dark:border-slate-800/60 dark:bg-slate-900/60 dark:text-white"
        [formGroup]="myForm"
        (ngSubmit)="SignIn()"
        novalidate
      >
        <!-- header -->
        <div class="px-8 pt-8 pb-4 text-center">
          <p class="text-[11px] font-semibold uppercase tracking-[0.2em] text-teal-600 dark:text-teal-400">
            Sign In
          </p>
          <h1 class="mt-2 text-2xl font-extrabold leading-tight tracking-tight
                     bg-gradient-to-r from-teal-500 via-emerald-500 to-cyan-500 bg-clip-text text-transparent">
            Welcome back
          </h1>
        </div>

        <!-- error -->
        <div *ngIf="this.auth.logingError | async"
             role="alert" aria-live="assertive"
             class="mx-8 mb-2 rounded-lg border border-red-300/60 bg-red-50 px-4 py-2 text-sm text-red-700 dark:border-red-800/60 dark:bg-red-900/30 dark:text-red-200">
          Incorrect email or password. Try again.
        </div>

        <div class="px-8 pb-8 space-y-5">
          <!-- Email -->
          <div>
            <label for="email" class="mb-2 block text-sm font-medium text-slate-800 dark:text-slate-200">Email</label>
            <div class="relative">
              <svg class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 dark:text-slate-500" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M4 8l8 5 8-5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                <rect x="4" y="4" width="16" height="16" rx="2" ry="2" stroke-width="1.5"></rect>
              </svg>
              <input
                type="email"
                id="email"
                formControlName="email"
                placeholder="you@example.com"
                class="w-full rounded-xl border border-slate-300/70 bg-white/70 pl-10 pr-3 py-2.5 text-slate-900
                       outline-none ring-0 transition focus:border-teal-500 focus:ring-2 focus:ring-teal-500/30
                       dark:border-slate-700 dark:bg-slate-800/80 dark:text-white"
                required
                autocomplete="email"
              />
            </div>
            <div *ngIf="email!.invalid && email!.touched" class="mt-1 text-sm text-red-500">Enter a valid email</div>
          </div>

          <!-- Password -->
          <div>
            <label for="password" class="mb-2 block text-sm font-medium text-slate-800 dark:text-slate-200">Password</label>
            <div class="relative">
              <svg class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 dark:text-slate-500" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="11" width="18" height="10" rx="2" ry="2" stroke-width="1.5"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke-width="1.5" stroke-linecap="round"></path>
              </svg>
              <input
                type="password"
                id="password"
                formControlName="password"
                placeholder="••••••••"
                class="w-full rounded-xl border border-slate-300/70 bg-white/70 pl-10 pr-3 py-2.5 text-slate-900
                       outline-none ring-0 transition focus:border-teal-500 focus:ring-2 focus:ring-teal-500/30
                       dark:border-slate-700 dark:bg-slate-800/80 dark:text-white"
                required
                autocomplete="current-password"
              />
            </div>
            <div *ngIf="password!.invalid && password!.touched" class="mt-1 text-sm text-red-500">Enter a valid password</div>
          </div>

          <!-- actions -->
          <div class="flex items-center justify-between">
            <span class="text-sm text-slate-600 dark:text-slate-300"></span>
            <a routerLink="/forgot-password" class="text-sm font-medium text-teal-600 hover:text-emerald-600 dark:text-teal-400">
              Forgot password?
            </a>
          </div>

          <!-- submit -->
          <button
            type="submit"
            [disabled]="myForm.invalid || loading"
            class="inline-flex w-full items-center justify-center rounded-full
                   bg-gradient-to-r from-teal-600 via-emerald-600 to-cyan-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md
                   transition-all duration-300 hover:from-teal-700 hover:via-emerald-700 hover:to-cyan-700
                   focus:outline-none focus-visible:ring-2 focus-visible:ring-teal-500 focus-visible:ring-offset-2
                   disabled:opacity-50 disabled:cursor-not-allowed
                   dark:focus-visible:ring-offset-slate-900"
            (click)="SignIn()"
          >
            Log in
          </button>

          <!-- loading -->
          <div class="flex flex-col items-center py-2" *ngIf="loading" role="status" aria-live="polite">
            <svg aria-hidden="true" class="h-7 w-7 animate-spin fill-teal-600 text-slate-300 dark:text-slate-600" viewBox="0 0 100 101" fill="none">
              <path d="M100 50.59c0 27.615-22.386 49.999-50 49.999C22.385 100.589 0 78.205 0 50.59 0 22.977 22.385.591 50 .591c27.614 0 50 22.386 50 50z" fill="currentColor"/>
              <path d="M93.968 39.041c2.425-.637 3.895-3.129 3.04-5.487-1.714-4.73-4.136-9.184-7.19-13.205-3.972-5.229-8.934-9.625-14.604-12.936C69.543 4.102 63.276 1.94 56.77 1.051 51.767.368 46.698.447 41.735 1.279c-2.473.415-3.921 2.919-3.284 5.345.637 2.425 3.119 3.848 5.6 3.483 3.801-.558 7.669-.579 11.49-.056 5.324.727 10.452 2.496 15.093 5.206 4.64 2.709 8.702 6.306 11.952 10.585 2.333 3.071 4.215 6.451 5.597 10.036.902 2.34 3.36 3.803 5.786 3.166z" fill="currentFill"/>
            </svg>
            <span class="sr-only">Loading...</span>
          </div>

          <!-- footer -->
          <p class="pt-1 text-center text-sm text-slate-600 dark:text-slate-300">
            Don’t have an account?
            <a routerLink="/welcome" class="font-semibold text-teal-700 hover:underline dark:text-teal-400">Sign up here</a>
          </p>
        </div>
      </form>
    </div>
  </div>

  <app-footer></app-footer>
</div>
