<!-- invitations.component.html -->
<div class="min-h-screen bg-slate-50 dark:bg-slate-900">
      <app-navbar
      [sideBarSmall]="true"
      [sideBarBig]="false"
      [email]="auth.currentUser.email"
      [firstName]="auth.currentUser.firstName"
      [lastName]="auth.currentUser.lastName"
      path="home"
      current=""
    ></app-navbar>

  <main class="max-w-3xl mx-auto px-4 pt-28 pb-16">
    <header class="mb-8 text-center">
      <h1 class="text-3xl font-extrabold tracking-tight
                 bg-gradient-to-r from-teal-600 to-emerald-500 bg-clip-text text-transparent
                 dark:from-teal-400 dark:to-emerald-300">
        Pending Invitations
      </h1>
      <p class="text-slate-600 dark:text-slate-400 mt-2">
        Join a school or ignore the invite.
      </p>
    </header>

    <!-- loading -->
    <div *ngIf="loading" class="flex items-center justify-center py-12">
      <svg class="w-6 h-6 animate-spin text-teal-600 dark:text-teal-400" viewBox="0 0 24 24" fill="none">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"/>
      </svg>
    </div>

    <!-- empty -->
    <div *ngIf="!loading && invites.length === 0"
         class="text-center text-slate-600 dark:text-slate-400 bg-white/90 dark:bg-slate-800/90
                ring-1 ring-teal-500/10 rounded-2xl shadow p-8">
      No pending invitations.
    </div>

    <!-- list -->
    <ul *ngIf="!loading && invites.length > 0" class="space-y-4">
      <li *ngFor="let i of invites"
          class="flex items-center justify-between bg-white/90 dark:bg-slate-800/90
                 ring-1 ring-teal-500/10 rounded-2xl shadow p-4">
        <div>
          <p class="font-semibold text-slate-900 dark:text-slate-100">
            {{ i.schoolName }}
          </p>
          <p class="text-sm text-slate-500 dark:text-slate-400">
            Invited to join as student
          </p>
        </div>
        <div class="flex gap-2 dark:text-white">
          <button
            (click)="ignore(i)"
            [disabled]="actingId === i.schoolId"
            class="px-4 py-2 rounded-full text-sm font-semibold
                   bg-slate-200/70 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-700
                   disabled:opacity-50"
          >
            Ignore
          </button>
          <button
            (click)="accept(i)"
            [disabled]="actingId === i.schoolId"
            class="px-4 py-2 rounded-full text-sm font-semibold text-white
                   bg-teal-600 hover:bg-teal-700 disabled:opacity-50"
          >
            {{ actingId === i.schoolId ? 'Joiningâ€¦' : 'Join' }}
          </button>
        </div>
      </li>
    </ul>
  </main>

  <app-footer></app-footer>
</div>
