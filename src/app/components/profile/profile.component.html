<app-navbar [email]="this.auth.currentUser.email"[firstName]="this.auth.currentUser.firstName" [lastName]="this.auth.currentUser.lastName" [path]="'home'" current="''"></app-navbar>

<div class="container flex flex-col md:flex-row mx-auto justify-center md:justify-between mt-24">

    <div class="container flex flex-col mx-auto items-center  my-10 ">

            <div class="flex flex-row">
                <div class="flex flex-col mx-auto"
                    appDropZone
                    (hovered)="toggleHover($event)"
                    (dropped)="startUpload($event)"
                    [class.hovering]="isHovering">
                    <input type="file" id="getFile" style="display:none" (change)="startUpload($any($event.target).files)">
                       

                        <img *ngIf="editAvatarImage" onclick="document.getElementById('getFile').click()"src="../../../assets/img/edit-avatar.png" (mouseenter) ="displayEditAvatar() " class=" rounded-full w-32" (mouseleave) ="hideEditAvatar()" alt="">
                        <img  *ngIf="profilePicturePath !=='' && !editAvatarImage" [src]="profilePicturePath" (click) ="displayEditAvatar() "  class="rounded-full w-32" alt="">
                        <img *ngIf="profilePicturePath ==='' && !editAvatarImage" src="../../../assets/img/user.png"  (mouseenter) ="displayEditAvatar() "  class="rounded-full w-32" alt="">
                    
                </div>
                
                <div class="flex flex-col px-6 space-y-2">
                    <h1 class=" text-2xl font-bold text-center md:text-left">{{user.firstName}} {{user.lastName}} </h1>
                    <h2 class=" text-lg  font-Nunito font-semibold text-center md:text-left hover:underline" (click)="toggleProfileCredential()"> {{user.profileCredential}}</h2>
                    <h2 *ngIf="user.profileCredential==''" class="   text-center md:text-left hover:underline" (click)="toggleProfileCredential()">Add profile credential</h2>
                   
                    <app-text-popup
                   *ngIf="boxProfile.display | async"
                   [updateProfileCredential]="true"
                    ></app-text-popup>
                    <h2 class=" text-gray-500 text-center md:text-left"> {{user.followers}} followers . {{user.following}} following</h2>
                    <!-- <a  class="bg-teal-800 hover:bg-teal-950 text-white w-fit px-4 py-2 rounded-full text-center mx-auto md:mx-0">Follow</a> -->
            
                </div>
               
            </div>

            <div class="flex flex-col mt-4">
            <p class="px-6 hover:underline"  (click)="toggleProfileDescription()">
               
                {{user.profileDescription}}
            </p>
            <p *ngIf="user.profileDescription===''" class="px-6 hover:underline" (click)="toggleProfileDescription()">
               Write a description about yourself
            </p>
            <app-text-popup
            class="lg:-my-24 lg:-mx-0 md:-my-44"
            *ngIf="boxDescription.display | async"
            [updateDescription]="true"
            [limit]="300"
            [title]="'Profile Description'"
            [height]="44"
             ></app-text-popup>

            </div>

         
            
           

        



    </div>


    <div class="container flex flex-col items-center mx-auto my-10 ">

        <div class="flex flex-col space-y-4 mx-4 ">
            <h1 class="text-xl">Credentials & Highlights </h1>

            <div class=" flex flex-row max-w-sm">
                <img src="../../../assets/img/job.png" alt="" class="w-6 h-6">
                <h2 *ngIf="user.employement!==''" class="px-2 hover:underline font-bold" (click)="toggleEmployementCredential()">{{user.employement}}</h2>
                <h2 *ngIf="user.employement===''"class=" px-2 hover:underline text-blue-500" (click)="toggleEmployementCredential()">Add employment credential</h2>
                <app-text-popup
                class="lg:-mx-60 md:-mx-96 -mx-[20rem]"
           
                    *ngIf="boxEmployment.display | async"
                    [updateEmploymentCredential]="true"
                    [limit]="60"
                    [title]="'Employement Credentials'"
             ></app-text-popup>
            </div>
            <div class=" flex flex-row max-w-sm">
                <img src="../../../assets/img/school.png" alt="" class="w-6 h-6">
                <h2 *ngIf="user.education!==''" class="px-2 hover:underline font-bold" (click)="toggleEducationCredential()">{{user.education}}</h2>
                <h2 *ngIf="user.education===''"class=" px-2 hover:underline text-blue-500" (click)="toggleEducationCredential()">Add education credential</h2>
                <app-text-popup
                class="lg:-mx-60 md:-mx-96 -mx-[20rem]"
           
                    *ngIf="boxEducation.display | async"
                    [updateEducationCredential]="true"
                    [limit]="60"
                    [title]="'Education Credentials'"
             ></app-text-popup>
            </div>
            <div class=" flex flex-row max-w-sm">
                <img src="../../../assets/img/location.png" alt="" class="w-6 h-6">
                <h2 *ngIf="user.location!==''" class="px-2 hover:underline font-bold"(click)="toggleLocationCredential()">{{user.location}} </h2>
                <h2 *ngIf="user.location===''"class=" px-2 hover:underline text-blue-500"(click)="toggleLocationCredential()">Add location credential</h2>
                <app-text-popup
                class="lg:-mx-60 md:-mx-96 -mx-[20rem]"
           
                    *ngIf="boxLocation.display | async"
                    [updateLocationCredential]="true"
                    [limit]="60"
                    [title]="'Location Credentials'"
             ></app-text-popup>
            </div>
            <div class=" flex flex-row max-w-sm">
                <img src="../../../assets/img/view.png" alt="" class="w-6 h-6">
                <h2 class="px-2">{{user.contentViews}} content views so far </h2>
            </div>
            <div class=" flex flex-row max-w-sm">
                <img src="../../../assets/img/team.png" alt="" class="w-6 h-6">
                <h2 class="px-2">Joined in {{dateJoined}} </h2>
            </div>


        </div>


       
    </div>

   

</div>

<div class="container flex flex-col md:flex-row mx-auto justify-between">

    <div class=" container flex flex-col max-w-2xl">
        <h1 class="text-center text-2xl font-bold underline underline-offset-8">Solutions</h1>
        <div *ngFor="let solution of completedSolutions; let i= index">
            <app-solution [user]="user"  [solution]="solution"></app-solution>
           
    </div>



</div>


<app-chatbot></app-chatbot>
