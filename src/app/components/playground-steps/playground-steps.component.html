

<app-navbar [email]="this.auth.currentUser.email"[firstName]="this.auth.currentUser.firstName" [lastName]="this.auth.currentUser.lastName" [path]="'home'"  [path]="'home'" current="''"></app-navbar>



<div class="dark:bg-slate-900 min-h-screen">
    <div class="mt-28 container px-16 flex flex-row mx-auto md:justify-between justify-center">
        <ol class="items-center sm:flex">
            <li *ngFor="let step of steps; let i = index" class="relative mb-6 sm:mb-0">
                <div class="flex items-center">
                    <div class="z-10 flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full ring-0 ring-white dark:bg-blue-900 sm:ring-8 dark:ring-gray-900 shrink-0">
                        <svg class="w-3 h-3 text-blue-800 dark:text-blue-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                        </svg>
                    </div>
                    <div class="hidden sm:flex w-full {{timelineDisplay[i]}} dark:bg-gray-700"></div>
                </div>
                <div class="mt-3 sm:pe-8">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">{{step}}</h3>
                    <time *ngIf="AllQuestions[i].length>1" class="block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-300">There are {{AllQuestions[i].length}} quetions in this section.</time>
                    <time *ngIf="AllQuestions[i].length==1" class="block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-300">Final Review and update order of things</time>
                    <!-- <p class="text-base font-normal text-gray-500 dark:text-gray-400">Get started with dozens of web components and interactive elements.</p> -->
                </div>
            </li>
          
        </ol>
        </div>
    <div class=" container flex flex-col-reverse lg:flex-row mx-auto md:justify-between justify-center">
        <div class="flex flex-col mx-auto" *ngFor="let item of AllQuestions; let i = index">
            <app-playground-step 
            [title]="currentSolution.title" 
            [step]="steps[i]" 
            [questions]="AllQuestions[i]"
            [questionsTitles]="questionsTitles[i]"
            [stepNumber]="currentIndexDisplay"
            [buttonText]="buttontexts[i]"
            [solutionId]="id"
            (buttonInfoEvent)="updatePlayground($event)"
            *ngIf="display[i]">
            </app-playground-step>

        </div>

            <div class=" flex flex-col mx-auto mt-28 min-w-[15rem] max-w-md">

                <a  class="flex flex-col items-center bg-white border border-gray-200 rounded-lg shadow  md:max-w-xl   p-4 dark:bg-slate-800 dark:border-gray-700">
                    <div  class="flex flex-wrap">
                        <!-- <img class="object-cover mx-auto  rounded-t-lg h-48 p-2 md:h-auto md:w-24 md:rounded-none md:rounded-l-lg mb-4" [src]="data.sdgsPaths[currentSolution.sdg!]"alt=""> -->
                            
                        <a  *ngFor="let sd of currentSolution.sdgs"  href="{{data.sdgsPaths[sd!+'-link']}}" target="_blank">
                            
                             <img  class="object-cover mx-auto  rounded-t-lg h-48 p-2 md:h-auto md:w-24 md:rounded-none md:rounded-l-lg mb-4" [src]="data.sdgsPaths[sd]"alt="">
        
                            </a>
                    </div>
                    
                    <div class="flex flex-col ">
                        <div class="flex flex-row mx-auto">
                            <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900  dark:text-gray-200">ReadMe</h5>
                            <svg (click)="toggleUpdateReadMe()" (mouseenter)="onHoverChangeReadMe()" (mouseleave)="onLeaveChangeReadMe()"     class="mt-2 w-10  hover:fill-blue-500 dark:hover:fill-blue-500 dark:fill-white fill-black " width="20px" height="20px" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8477 1.87868C19.6761 0.707109 17.7766 0.707105 16.605 1.87868L2.44744 16.0363C2.02864 16.4551 1.74317 16.9885 1.62702 17.5692L1.03995 20.5046C0.760062 21.904 1.9939 23.1379 3.39334 22.858L6.32868 22.2709C6.90945 22.1548 7.44285 21.8693 7.86165 21.4505L22.0192 7.29289C23.1908 6.12132 23.1908 4.22183 22.0192 3.05025L20.8477 1.87868ZM18.0192 3.29289C18.4098 2.90237 19.0429 2.90237 19.4335 3.29289L20.605 4.46447C20.9956 4.85499 20.9956 5.48815 20.605 5.87868L17.9334 8.55027L15.3477 5.96448L18.0192 3.29289ZM13.9334 7.3787L3.86165 17.4505C3.72205 17.5901 3.6269 17.7679 3.58818 17.9615L3.00111 20.8968L5.93645 20.3097C6.13004 20.271 6.30784 20.1759 6.44744 20.0363L16.5192 9.96448L13.9334 7.3787Z" />
                                </svg>
                        </div>
                        <div *ngIf="hoverChangeReadMe" class="   absolute   z-50 p-2 flex text-sm text-gray-800 rounded-lg bg-gray-200 dark:bg-gray-600 dark:text-gray-300" role="alert">
                            <span class="font-medium text-center">Update ReadMe</span>
                          </div>
                      
                        <div  class="mb-2 font-normal text-gray-700 dark:text-gray-200" [innerHTML]="currentSolution.description">
                           
                        </div>
                    </div>

                    <!-- Dsiplay update ReadMe-->
                    <div *ngIf="updateReadMeBox" id="crud-modal"   class=" w-full max-w-md max-h-full fixed inset-x-0 mx-auto top-[10rem] z-50 p-4 flex">
                        <div class="relative p-2 w-full max-w-md max-h-full">
                            <!-- Modal content -->
                            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                            
                            
                                <!-- Modal body -->
                                <div class="p-4 md:p-5 min-w-xl">
                                
                                    <div class="grid gap-4 mb-4 grid-cols-2">
                            
                                        <div class="col-span-2">
                                            <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Update ReadMe</label>
                                            <textarea [(ngModel)]="newReadMe" id="description" rows="10" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Enter your updated title here"></textarea>                    
                                        </div>
                                    </div>
                                    <button (click)="toggleUpdateReadMe()"  class="mr-4 text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                                        
                                        Cancel
                                    </button>
                                    <button (click)="updateReadMe()" class="text-white inline-flex items-center bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-blue-800">
                                    
                                    Update ReadMe
                                </button>
                            </div>
                            </div>
                        </div>
                    </div> 




                    <div class="flex flex-col ">
                        <h5 class="mb-2 text-lg font-bold tracking-tight text-gray-900 text-center dark:text-gray-200">Designers :  {{teamMembers.length}}</h5>
                    </div>
                    
                        <div class="flex flex-row -space-x-1 overflow-x-scroll" >
                            <div *ngFor="let user of teamMembers; let i= index" >
                                <div *ngIf="user.uid === auth.currentUser.uid" >
                                    <img *ngIf="user.profilePicture!.downloadURL !==undefined "   (mouseenter)="onHoverImageTeam(i)" (mouseleave)="onLeaveTeam(i)"  class="w-16 h-16 border-2 border-white rounded-full dark:border-gray-700" [src]="user.profilePicture!.downloadURL" routerLink="/profile" alt="">
                                    <div *ngIf="user.profilePicture?.downloadURL ===undefined" (mouseenter)="onHoverImageTeam(i)" (mouseleave)="onLeaveTeam(i)" routerLink="/profile"   class=" w-16 h-16 overflow-hidden bg-gray-100 rounded-full dark:bg-slate-700 mx-auto" routerLink="/user-profile/{{user.uid}}">
               
                                        <svg class=" w-20 h-20 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 24 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                                    </div> 
                                    
                                   
                                </div>
                                <div *ngIf="user.uid !== auth.currentUser.uid" >
                                    <img *ngIf="user.profilePicture!.downloadURL !==undefined"   (mouseenter)="onHoverImageTeam(i)" (mouseleave)="onLeaveTeam(i)"  class="w-16 h-16 border-2 border-white rounded-full dark:border-gray-700" [src]="user.profilePicture!.downloadURL" routerLink="/user-profile/{{user.uid}}" alt="">
                                    <div *ngIf="user.profilePicture?.downloadURL ===undefined" (mouseenter)="onHoverImageTeam(i)" (mouseleave)="onLeaveTeam(i)" routerLink="/profile"   class=" w-16 h-16 overflow-hidden bg-gray-100 rounded-full dark:bg-slate-700 mx-auto" routerLink="/user-profile/{{user.uid}}">
               
                                        <svg class=" w-20 h-20 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 24 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                                    </div> 
                                    
                                  
                                </div>
                                <div>
                                    <div *ngIf="showPopUpTeam[i]" >
                                        <div class=" shadow-lg border-2 border-gray-200 absolute z-10 -mt-[15rem] bg-white  rounded-lg p-4 dark:bg-slate-800 dark:border-gray-700"  >
                                            <div class="flex items-center justify-between mb-2" >
                                                <a >
                                                    <img *ngIf="user.profilePicture!.downloadURL !==undefined"  class="w-10 h-10 rounded-full" [src]="user.profilePicture!.downloadURL"alt="">
                                                    
                                                    <div *ngIf="user.profilePicture?.downloadURL===undefined"  class=" w-10 h-10 overflow-hidden bg-gray-100 rounded-full dark:bg-slate-700 mx-auto">
               
                                                        <svg class=" w-12 h-12 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 24 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                                                    </div>   
                                                   
                                                </a>
                                                <div>
                                                    <button type="button" class="text-white bg-teal-700 hover:bg-teal-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-xs px-3 py-1.5 ">Follow</button>
                                                </div>
                                            </div>
                                            <p class="text-base font-semibold leading-none text-gray-800 dark:text-gray-200">
                                                <a>{{user.firstName}} {{user.lastName}}</a>
                                            </p>
                                            <p class="mb-3 text-sm font-normal">
                                                <a class="hover:underline dark:text-gray-200">{{user.email}}</a>
                                            </p>
                                            <p  class="mb-4 text-sm text-gray-800 dark:text-gray-200">{{user.profileCredential}}</p>
                                            <ul class="flex text-sm">
                                                <li class="mr-2">
                                                    <a  class="hover:underline">
                                                        <span class="font-semibold text-gray-800 dark:text-gray-200">{{user.following}} </span>
                                                        <span class="dark:text-gray-200">Following</span>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="hover:underline">
                                                        <span class="font-semibold text-gray-900 dark:text-gray-200">{{user.followers}} </span>
                                                        <span class="dark:text-gray-200">Followers</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="hoverAddTeamMember" class=" -mt-6  absolute   z-50 p-2 flex text-sm text-gray-800 rounded-lg bg-gray-200 dark:bg-gray-600 dark:text-gray-300" role="alert">
                                <span class="font-medium text-center">Add Team Member</span>
                              </div>
                            <svg (click)="toggleAddTeamMember()"  (mouseenter)="onHoverAddTeamMember()"  (mouseleave)="onHoverAddTeamMember()"   class=" ml-4 mt-5 w-10  hover:fill-blue-500 dark:hover:fill-blue-500 dark:fill-white fill-black " width="20px" height="20px" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8477 1.87868C19.6761 0.707109 17.7766 0.707105 16.605 1.87868L2.44744 16.0363C2.02864 16.4551 1.74317 16.9885 1.62702 17.5692L1.03995 20.5046C0.760062 21.904 1.9939 23.1379 3.39334 22.858L6.32868 22.2709C6.90945 22.1548 7.44285 21.8693 7.86165 21.4505L22.0192 7.29289C23.1908 6.12132 23.1908 4.22183 22.0192 3.05025L20.8477 1.87868ZM18.0192 3.29289C18.4098 2.90237 19.0429 2.90237 19.4335 3.29289L20.605 4.46447C20.9956 4.85499 20.9956 5.48815 20.605 5.87868L17.9334 8.55027L15.3477 5.96448L18.0192 3.29289ZM13.9334 7.3787L3.86165 17.4505C3.72205 17.5901 3.6269 17.7679 3.58818 17.9615L3.00111 20.8968L5.93645 20.3097C6.13004 20.271 6.30784 20.1759 6.44744 20.0363L16.5192 9.96448L13.9334 7.3787Z" />
                                </svg>
                                
                        </div>
                        
                

                    <div class="flex flex-col p-4 ">
                        <h5 class="mb-2 text-lg font-bold tracking-tight text-gray-900 text-center dark:text-gray-200">Evaluators :  {{evaluators.length}}</h5>
                    </div>
                    <div class="flex flex-row -space-x-1" >
                        <div *ngFor="let user of evaluators; let i= index" >
                            <img *ngIf="user.profilePicture && user.profilePicture!.downloadURL !==undefined"   (mouseenter)="onHoverImageEvaluators(i)" (mouseleave)="onLeaveEvaluatros(i)"  class="w-16 h-16 border-2 border-white rounded-full  dark:border-gray-700" [src]="user.profilePicture.downloadURL" routerLink="/user-profile/{{user.uid}}" alt="">
                             
                            <div *ngIf="user.profilePicture?.downloadURL ===undefined" (mouseenter)="onHoverImageEvaluators(i)" (mouseleave)="onLeaveEvaluatros(i)" routerLink="/user-profile/{{user.uid}}"   class=" w-16 h-16 overflow-hidden bg-gray-100 rounded-full dark:bg-slate-700 mx-auto">
               
                                <svg class=" w-20 h-20 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 24 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                            </div> 
                            
                            <div>
                                <div *ngIf="showPopUpEvaluators[i]" class="overflow-x-scroll" >
                                    <div class=" shadow-lg border-2 border-gray-200 absolute z-10 -mt-[15rem] bg-white  rounded-lg p-4 dark:bg-slate-800 dark:border-gray-700"  >
                                        <div class="flex items-center justify-between mb-2" >
                                            <a >
                                                <img *ngIf="user.profilePicture && user.profilePicture!.downloadURL !==undefined"  class="w-10 h-10 rounded-full" [src]="user.profilePicture.downloadURL"alt="">
                                               
                                                <div *ngIf="user.profilePicture?.downloadURL===undefined"  class=" w-10 h-10 overflow-hidden bg-gray-100 rounded-full dark:bg-slate-700 mx-auto">
               
                                                    <svg class=" w-12 h-12 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 24 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                                                </div>   
                                            </a>
                                            <div>
                                                <button type="button" class="text-white bg-teal-700 hover:bg-teal-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-xs px-3 py-1.5 ">Follow</button>
                                            </div>
                                        </div>
                                        <p class="text-base font-semibold leading-none text-gray-800 dark:text-gray-200">
                                            <a>{{user.firstName}} {{user.lastName}}</a>
                                        </p>
                                        <p class="mb-3 text-sm font-normal">
                                            <a class="hover:underline dark:text-gray-200">{{user.email}}</a>
                                        </p>
                                        <p class="mb-4 text-sm text-gray-800 dark:text-gray-200">{{user.profileCredential}}</p>
                                        <ul class="flex text-sm">
                                            <li class="mr-2">
                                                <a  class="hover:underline">
                                                    <span class="font-semibold text-gray-800  dark:text-gray-200">{{user.following}} </span>
                                                    <span class="dark:text-gray-200">Following</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="hover:underline">
                                                    <span class="font-semibold text-gray-900 dark:text-gray-200">{{user.followers}} </span>
                                                    <span class="dark:text-gray-200">Followers</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                        
                        
                    
                
                </a>

            </div>
    </div>
</div>



  <!-- Main modal -->
  <div *ngIf="showAddTeamMember" id="crud-modal"   class=" w-full max-w-md max-h-full fixed right-[10rem] bottom-[10rem] z-50 p-4 flex ">
    <div class="relative p-2 w-full max-w-md max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
          
          
            <!-- Modal body -->
            <div class="p-4 md:p-5 min-w-xl">
              
                <div class="grid gap-4 mb-4 grid-cols-2">
         
                    <div class="col-span-2">
                        <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Add a new Participant (only one at a time)</label>
                        <textarea [(ngModel)]="newTeamMember" id="description" rows="1" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="email@gmail.com"></textarea>                    
                    </div>
                </div>
                <button (click)="toggleAddTeamMember()"  class="mr-4 text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    
                    Cancel
                </button>
                <button  (click)="addParticipantToSolution()" class="text-white inline-flex items-center bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-blue-800">
                  
                  Add Participant
              </button>
          </div>
        </div>
    </div>
</div> 


